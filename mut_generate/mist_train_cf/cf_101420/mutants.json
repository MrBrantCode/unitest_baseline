{
  "task_id": "cf_101420",
  "entry_point": "recommend_products",
  "mutant_count": 60,
  "mutants": [
    {
      "operator": "ASR",
      "lineno": 31,
      "original_line": "category_probs /= np.sum(category_probs)",
      "mutated_line": "category_probs *= np.sum(category_probs)",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs *= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "ASR",
      "lineno": 33,
      "original_line": "price_probs /= np.sum(price_probs)",
      "mutated_line": "price_probs *= np.sum(price_probs)",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs *= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "ROR",
      "lineno": 26,
      "original_line": "if len(customer_history) == 0:",
      "mutated_line": "if len(customer_history) != 0:",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) != 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 26,
      "original_line": "if len(customer_history) == 0:",
      "mutated_line": "if len(customer_history) == 1:",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 1:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 26,
      "original_line": "if len(customer_history) == 0:",
      "mutated_line": "if len(customer_history) == -1:",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == -1:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 26,
      "original_line": "if len(customer_history) == 0:",
      "mutated_line": "if len(customer_history) == 1:",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 1:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "ROR",
      "lineno": 11,
      "original_line": "if total_transitions > 0:",
      "mutated_line": "if total_transitions >= 0:",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions >= 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "ROR",
      "lineno": 11,
      "original_line": "if total_transitions > 0:",
      "mutated_line": "if total_transitions <= 0:",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions <= 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "ROR",
      "lineno": 11,
      "original_line": "if total_transitions > 0:",
      "mutated_line": "if total_transitions != 0:",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions != 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "ROR",
      "lineno": 21,
      "original_line": "if total_transitions > 0:",
      "mutated_line": "if total_transitions >= 0:",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions >= 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "ROR",
      "lineno": 21,
      "original_line": "if total_transitions > 0:",
      "mutated_line": "if total_transitions <= 0:",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions <= 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "ROR",
      "lineno": 21,
      "original_line": "if total_transitions > 0:",
      "mutated_line": "if total_transitions != 0:",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions != 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "ROR",
      "lineno": 25,
      "original_line": "customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]",
      "mutated_line": "customer_history = [x for x in customer_purchase_history if x['customer_id'] != customer_id]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] != customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 30,
      "original_line": "category_probs = np.sum(category_matrix, axis=0)",
      "mutated_line": "category_probs = np.sum(category_matrix, axis=1)",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=1)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 30,
      "original_line": "category_probs = np.sum(category_matrix, axis=0)",
      "mutated_line": "category_probs = np.sum(category_matrix, axis=-1)",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=-1)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 30,
      "original_line": "category_probs = np.sum(category_matrix, axis=0)",
      "mutated_line": "category_probs = np.sum(category_matrix, axis=1)",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=1)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 32,
      "original_line": "price_probs = np.sum(price_matrix, axis=0)",
      "mutated_line": "price_probs = np.sum(price_matrix, axis=1)",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=1)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 32,
      "original_line": "price_probs = np.sum(price_matrix, axis=0)",
      "mutated_line": "price_probs = np.sum(price_matrix, axis=-1)",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=-1)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 32,
      "original_line": "price_probs = np.sum(price_matrix, axis=0)",
      "mutated_line": "price_probs = np.sum(price_matrix, axis=1)",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=1)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "AOR",
      "lineno": 43,
      "original_line": "probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]",
      "mutated_line": "probability = customer_history[-1]['freq'] * category_transitions[i] / price_transitions[j]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] / price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "AOR",
      "lineno": 43,
      "original_line": "probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]",
      "mutated_line": "probability = customer_history[-1]['freq'] * category_transitions[i] + price_transitions[j]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] + price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "AOR",
      "lineno": 43,
      "original_line": "probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]",
      "mutated_line": "probability = (customer_history[-1]['freq'] * category_transitions[i]) ** price_transitions[j]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = (customer_history[-1]['freq'] * category_transitions[i]) ** price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 47,
      "original_line": "recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)",
      "mutated_line": "recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=False)",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=False)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 48,
      "original_line": "return recommendations[:3]",
      "mutated_line": "return recommendations[:4]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:4]"
    },
    {
      "operator": "CRP",
      "lineno": 48,
      "original_line": "return recommendations[:3]",
      "mutated_line": "return recommendations[:2]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:2]"
    },
    {
      "operator": "CRP",
      "lineno": 48,
      "original_line": "return recommendations[:3]",
      "mutated_line": "return recommendations[:0]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:0]"
    },
    {
      "operator": "CRP",
      "lineno": 48,
      "original_line": "return recommendations[:3]",
      "mutated_line": "return recommendations[:1]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:1]"
    },
    {
      "operator": "CRP",
      "lineno": 48,
      "original_line": "return recommendations[:3]",
      "mutated_line": "return recommendations[:-3]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:-3]"
    },
    {
      "operator": "CRP",
      "lineno": 11,
      "original_line": "if total_transitions > 0:",
      "mutated_line": "if total_transitions > 1:",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 1:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 11,
      "original_line": "if total_transitions > 0:",
      "mutated_line": "if total_transitions > -1:",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > -1:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 11,
      "original_line": "if total_transitions > 0:",
      "mutated_line": "if total_transitions > 1:",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 1:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "AOR",
      "lineno": 12,
      "original_line": "category_matrix[i, j] = len(transitions_to_j) / total_transitions",
      "mutated_line": "category_matrix[i, j] = len(transitions_to_j) * total_transitions",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) * total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "AOR",
      "lineno": 12,
      "original_line": "category_matrix[i, j] = len(transitions_to_j) / total_transitions",
      "mutated_line": "category_matrix[i, j] = len(transitions_to_j) // total_transitions",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) // total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 21,
      "original_line": "if total_transitions > 0:",
      "mutated_line": "if total_transitions > 1:",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 1:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 21,
      "original_line": "if total_transitions > 0:",
      "mutated_line": "if total_transitions > -1:",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > -1:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 21,
      "original_line": "if total_transitions > 0:",
      "mutated_line": "if total_transitions > 1:",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 1:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "AOR",
      "lineno": 22,
      "original_line": "price_matrix[i, j] = len(transitions_to_j) / total_transitions",
      "mutated_line": "price_matrix[i, j] = len(transitions_to_j) * total_transitions",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) * total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "AOR",
      "lineno": 22,
      "original_line": "price_matrix[i, j] = len(transitions_to_j) / total_transitions",
      "mutated_line": "price_matrix[i, j] = len(transitions_to_j) // total_transitions",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) // total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "AOR",
      "lineno": 43,
      "original_line": "probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]",
      "mutated_line": "probability = customer_history[-1]['freq'] / category_transitions[i] * price_transitions[j]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] / category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "AOR",
      "lineno": 43,
      "original_line": "probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]",
      "mutated_line": "probability = (customer_history[-1]['freq'] + category_transitions[i]) * price_transitions[j]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = (customer_history[-1]['freq'] + category_transitions[i]) * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "AOR",
      "lineno": 43,
      "original_line": "probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]",
      "mutated_line": "probability = customer_history[-1]['freq'] ** category_transitions[i] * price_transitions[j]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] ** category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "ROR",
      "lineno": 8,
      "original_line": "transitions = [x for x in customer_purchase_history if x['category'] == category_i]",
      "mutated_line": "transitions = [x for x in customer_purchase_history if x['category'] != category_i]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] != category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "ROR",
      "lineno": 9,
      "original_line": "transitions_to_j = [x for x in transitions if x['category'] == category_j]",
      "mutated_line": "transitions_to_j = [x for x in transitions if x['category'] != category_j]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] != category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "ROR",
      "lineno": 18,
      "original_line": "transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]",
      "mutated_line": "transitions = [x for x in customer_purchase_history if x['price_range'] != price_i]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] != price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "ROR",
      "lineno": 19,
      "original_line": "transitions_to_j = [x for x in transitions if x['price_range'] == price_j]",
      "mutated_line": "transitions_to_j = [x for x in transitions if x['price_range'] != price_j]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] != price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 25,
      "original_line": "customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]",
      "mutated_line": "customer_history = [x for x in customer_purchase_history if x[''] == customer_id]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x[''] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 44,
      "original_line": "recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})",
      "mutated_line": "recommendations.append({'': category_i, 'price_range': price_j, 'probability': probability})",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 44,
      "original_line": "recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})",
      "mutated_line": "recommendations.append({'category': category_i, '': price_j, 'probability': probability})",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, '': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 44,
      "original_line": "recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})",
      "mutated_line": "recommendations.append({'category': category_i, 'price_range': price_j, '': probability})",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, '': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 47,
      "original_line": "recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)",
      "mutated_line": "recommendations = sorted(recommendations, key=lambda x: x[''], reverse=True)",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x[''], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 43,
      "original_line": "probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]",
      "mutated_line": "probability = customer_history[-1][''] * category_transitions[i] * price_transitions[j]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1][''] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 8,
      "original_line": "transitions = [x for x in customer_purchase_history if x['category'] == category_i]",
      "mutated_line": "transitions = [x for x in customer_purchase_history if x[''] == category_i]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x[''] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 9,
      "original_line": "transitions_to_j = [x for x in transitions if x['category'] == category_j]",
      "mutated_line": "transitions_to_j = [x for x in transitions if x[''] == category_j]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x[''] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 18,
      "original_line": "transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]",
      "mutated_line": "transitions = [x for x in customer_purchase_history if x[''] == price_i]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x[''] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 19,
      "original_line": "transitions_to_j = [x for x in transitions if x['price_range'] == price_j]",
      "mutated_line": "transitions_to_j = [x for x in transitions if x[''] == price_j]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x[''] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "UOI",
      "lineno": 43,
      "original_line": "probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]",
      "mutated_line": "probability = customer_history[+1]['freq'] * category_transitions[i] * price_transitions[j]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[+1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 43,
      "original_line": "probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]",
      "mutated_line": "probability = customer_history[-2]['freq'] * category_transitions[i] * price_transitions[j]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-2]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 43,
      "original_line": "probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]",
      "mutated_line": "probability = customer_history[-0]['freq'] * category_transitions[i] * price_transitions[j]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-0]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 43,
      "original_line": "probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]",
      "mutated_line": "probability = customer_history[-0]['freq'] * category_transitions[i] * price_transitions[j]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[-0]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    },
    {
      "operator": "CRP",
      "lineno": 43,
      "original_line": "probability = customer_history[-1]['freq'] * category_transitions[i] * price_transitions[j]",
      "mutated_line": "probability = customer_history[--1]['freq'] * category_transitions[i] * price_transitions[j]",
      "code": "import numpy as np\n\ndef recommend_products(customer_id, customer_purchase_history, categories, price_ranges):\n    category_matrix = np.zeros((len(categories), len(categories)))\n    for (i, category_i) in enumerate(categories):\n        for (j, category_j) in enumerate(categories):\n            transitions = [x for x in customer_purchase_history if x['category'] == category_i]\n            transitions_to_j = [x for x in transitions if x['category'] == category_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                category_matrix[i, j] = len(transitions_to_j) / total_transitions\n    price_matrix = np.zeros((len(price_ranges), len(price_ranges)))\n    for (i, price_i) in enumerate(price_ranges):\n        for (j, price_j) in enumerate(price_ranges):\n            transitions = [x for x in customer_purchase_history if x['price_range'] == price_i]\n            transitions_to_j = [x for x in transitions if x['price_range'] == price_j]\n            total_transitions = len(transitions)\n            if total_transitions > 0:\n                price_matrix[i, j] = len(transitions_to_j) / total_transitions\n    customer_history = [x for x in customer_purchase_history if x['customer_id'] == customer_id]\n    if len(customer_history) == 0:\n        return []\n    category_probs = np.sum(category_matrix, axis=0)\n    category_probs /= np.sum(category_probs)\n    price_probs = np.sum(price_matrix, axis=0)\n    price_probs /= np.sum(price_probs)\n    category_transitions = [np.dot(category_matrix[i], price_probs) for i in range(len(categories))]\n    price_transitions = [np.dot(price_matrix[i], category_probs) for i in range(len(price_ranges))]\n    recommendations = []\n    for (i, category_i) in enumerate(categories):\n        for (j, price_j) in enumerate(price_ranges):\n            probability = customer_history[--1]['freq'] * category_transitions[i] * price_transitions[j]\n            recommendations.append({'category': category_i, 'price_range': price_j, 'probability': probability})\n    recommendations = sorted(recommendations, key=lambda x: x['probability'], reverse=True)\n    return recommendations[:3]"
    }
  ]
}